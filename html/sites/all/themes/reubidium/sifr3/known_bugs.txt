# Known bugs

This file contains the bugs currently known and not yet fixed.

---

## RC 1 ##

### General ###

* Documentation / tutorials
  * Cover parseSelector, add-on selectors like :not
  * Advanced uses of callbacks
  * How do deal with elements that need to be hidden
    * Use .sIFR-active to show them
    * onReplacement() to hide them again
    * Making sure only to hide when all are replaced

* Google Translator issue, <http://forum.textdrive.com/viewtopic.php?pid=128393#p128393>
  * This is really an issue with one domain loading a page from another domain which inserts a few Flash movies
  * That is, it's a Flash bug, not sIFR related.
  * <http://discuss.joyent.com/viewtopic.php?pid=180811#p180811>

* Screen readers, <http://instructors.cwrl.utexas.edu/~martin/sifr/>

* jQuery CSS ready trick?
  * See bindReady at <http://jqueryjs.googlecode.com/svn/trunk/jquery/src/event.js>
  * Can this be trusted to work for future versions of Firefox, IE?
  * What if some stylesheets are not loaded (optimization) because of an inappropriate media type?

* bug in parseselector? <http://discuss.joyent.com/viewtopic.php?pid=172378#p172378>

* Resize handling is horrible in the case of horizontally laid out movies.

* lowercase sIFR stylesheet names, <http://discuss.joyent.com/viewtopic.php?pid=173400#p173400>

* Flash movie on different domain? <http://discuss.joyent.com/viewtopic.php?pid=176073#p176073>, <http://discuss.joyent.com/viewtopic.php?pid=180811#p180811>

* Possible to detect completion of prefetch?

* Resize handling and hidden elements?

* Green background when background-color: transparent? <http://designintellection.com/2008/this-is-how-you-get-sifr-to-work/#comment-10125> (Arian Hojat)

* Web server requirement still appropriate?

* No errors when using the compressed code without debug!

* No communication if Flash is off-screen? <http://discuss.joyent.com/viewtopic.php?pid=180397#p180397>

* Add Bold+Italic glyphs to default text
* Merge CSS files: <http://discuss.joyent.com/viewtopic.php?pid=180922#p180922>
* Horizontal scrollbars: <http://discuss.joyent.com/post.php?tid=23131>
* Bug with font-size in nested selectors, see <http://discuss.joyent.com/viewtopic.php?pid=182261#p182261>
* Floats! <http://discuss.joyent.com/viewtopic.php?pid=182398#p182398>
* Replaced element is empty very briefly during replacement, fix height when this is the case. <http://discuss.joyent.com/viewtopic.php?pid=182720#p182720>

### Flash Refactoring ###

* Set anti-alias to "text" in .fla, don't that after that?

### Linux ###

* No Flash <--> JavaScript communication in Konqueror. See also <http://bugs.kde.org/show_bug.cgi?id=154282>
* Still no transparency support :(

### Opera ###

* Detect User Style Mode?

### Firefox ###

* overflow:hidden; seems to have very negative CPU usage side effects in (at least) Firefox. Is fixFocus affected, as well?
* Problem with fixFocus? <http://discuss.joyent.com/viewtopic.php?pid=172679#p172679>
* fixFocus required in FF3?
* fixFocus movies can be scrolled using the scroll wheel, <http://discuss.joyent.com/viewtopic.php?pid=173099#p173099>
* selectable:false is broken on FF3 / Win.

### WebKit ###

* Scaling is inaccurate, no resizeAfterScale?
* XHTML support broke, probably because of pre-fetch, see <http://discuss.joyent.com/viewtopic.php?pid=178937#p178937>
* Resizing text with replaced <script> tags gives trouble, see <http://discuss.joyent.com/viewtopic.php?pid=181846#p181846>

### IE ###

* font-size specified in CSS in pixels? leading is not taking into account in the height guestimate.
* sIFR#calculate, IE?
* sIFR & ARIA? (Firefox, too)
* IE8? <http://discuss.joyent.com/viewtopic.php?pid=175062#p175062> (see mail, too)
* IE: use onresizeend event?
* Can't blur movies focused by click, or simply by hovering opaque/transparent movies. Either find a way to do so anyway, or perhaps try and scroll the Flash movie away from the cursor. See also <http://discuss.joyent.com/viewtopic.php?pid=172927#p172927>, <http://discuss.joyent.com/viewtopic.php?pid=177300#p177300>, <http://mediavrog.net/blog/2008/04/28/javascript/sifr-probleme-beim-scrollen-im-internet-explorer-6-und-7/>
  * Perhaps use tabindex=-1 and then focus?
* @import differences? <http://novemberborn.net/sifr3/beta2#c001160>
* Return of the mirror bug? See Mike Reid's mail.
* Triple XXX: <http://discuss.joyent.com/viewtopic.php?pid=179844#p179844>
* replaceText() in IE6: <http://discuss.joyent.com/viewtopic.php?pid=181949#p181949>

### Debug

* Only validate each unique source once
* Validate selectors (count 'em)
* Add XHR-based source validation debug option thingy
* Ratio calculation should work with just the Flash source. <http://forum.textdrive.com/viewtopic.php?pid=139411#p139411>

## RC

* Speed improvements
  * <http://ajaxian.com/archives/benchmark-prototype-and-jquery>, <http://www.jackslocum.com/blog/2007/01/11/domquery-css-selector-basic-xpath-implementation-with-benchmarks/>, dojo css parser, <http://ejohn.org/blog/getelementsbyclassname-speed-comparison/>
  * <http://blog.stevenlevithan.com/archives/faster-trim-javascript>
  * parseSelector should stop parsing when `select()` returns an empty list.

## After 3.0 ##

* Can effects from <http://www.swfir.com/> be used?

## Add-on Ideas ##

* sIFR and broken Flash players
  - Use sIFR.onReplacementStart event
  - wait for ping, if not within X seconds (customizable) undo sIFR
  - (rollback)
  - sIFR.onbrokenflash() event to notify user
